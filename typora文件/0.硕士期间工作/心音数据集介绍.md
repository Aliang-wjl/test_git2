1. Challenge_2016:这份数据是2016 PhysioNet/CinC Challenge所用数据集，概括如下表所示： ==采样率2000hz==

   [数据集链接](https://physionet.org/content/challenge-2016/1.0.0/#files)

   <img src="../../../AppData/Roaming/Typora/typora-user-images/image-20221126094927027.png" alt="image-20221126094927027" style="zoom: 80%;" />

   <img src="../../../AppData/Roaming/Typora/typora-user-images/image-20221126095743960.png" alt="image-20221126095743960" style="zoom:80%;" />

   原数据集已有验证集，那么我们就只需要将原训练集划分为训练集和测试集即可。
   每个人记录时长为10-60s
   训练集有409 + 490 + 31 + 55 + 2141 + 114 = 3240
   验证集有301条病人记录，分别来自a,b,c,d,e数据库，满足0.1的比例
   接着进行心音段的划分查看

   # 处理方式

​		

```
len_all = [409, 490, 31, 55, 2141, 114, 301]
		去掉标签为0的样本，只保留标签为1的样本
		最终保留了原数据版本(2k)，滤波版本(2k),滤波下采样版本(1k)
		所有数据的形式为 a.shape = (22398, 6001)
1为不正常 0为正常
Counter({1.0: 5634, 0.0: 16764})


# 新更改
加上验证集总共有：异常类
```



2. Yaseen_2018:这份数据集由Yaseen[2018]提供，其中包含5种类型的心音，概括如下表所示： ==采样率8000hz==

[数据集链接](https://github.com/yaseen21khan/Classification-of-Heart-Sound-Signal-Using-Multiple-Features-)

<img src="../../../AppData/Roaming/Typora/typora-user-images/image-20221126100644817.png" alt="image-20221126100644817" style="zoom:80%;" />

这个直接分训练集，验证集，测试集就可以

# 最后处理方式

```python
五个数据库的各个类别  
采样率 最小长度位置  最小长度  最大长度
8000   192          16270   24058
8000   188          18799   28402
8000   4            12604   24277
8000   5            9245    25611
8000   190          13811   31943

#因为最长长度顶多是4s的数据，最短1s数据，故这里将他们原有长度直接降为2k的或者1k的
#最终保留了原数据版本(2k)，滤波版本(2k),滤波下采样版本(1k)
最终结果为 a.shape = (1000, 2001)
```





3. Kaggle_2016：这份数据集是Kaggle2016年的一个关于心音的竞赛数据，概括如下表所示： ==采样率为44100和 4000==

[数据集链接](https://www.kaggle.com/datasets/kinguistics/heartbeat-sounds)

<img src="../../../AppData/Roaming/Typora/typora-user-images/image-20221126101255761.png" alt="image-20221126101255761" style="zoom:80%;" />

另外数据集A还有52个没有标签的音频==（没有打标签是因为这是用于测试的，但是并没有公布具体标签是啥，故我们不能用，下同）==，本文暂时选择不使用
另外数据集B还有195个没有标签的音频，包含噪音的异常音频数29个，包含噪音的正常音频数120个，本文暂时选择不使用

# 最终处理方式为

​	

```python
该数据集是set_a的采样率为44100，set_b的采样率为4000，且数据长度分配不仅，甚至有小于1s的数据
故在此我们对小于1s的数据直接降为2k，大于1s的数据进行分段，每一段长度为1s
最终结果为：a =(2745, 2001)
```



5类





4. Fetal_2015：胎儿心音数据集    采样率333hz
   [数据集链接](https://physionet.org/content/fpcgdb/1.0.0/)

该项目收集了不同孕妇在单胎生理妊娠的最后几个月（妊娠周在31至40岁之间）的一系列26个胎儿心声图（PCG）信号。所有女性都很健康，年龄在25至35岁之间。这些文件于2010年在私人临床实践中通过便携式心音图设备（Pentavox的Fetaphon监测系统）在平均持续20分钟的会议期间记录。数据在8位ADC上以333 Hz的采样频率数字化;对于每个文件，文件名中报告妊娠周 （GW） 和患者 ID （P）。

这些数据用于设计胎儿PCG信号模拟软件，以及开发和测试胎儿心率提取算法。所有细节都在来源中描述。

在录音中，可以识别出信号较少被噪声破坏的第一和第二心音（S1和S2小波）的几个。噪声源可以是多种多样的，例如母体心音、母体器官声音（由于母体消化、呼吸肌肉运动和胎盘血液湍流）、胎儿运动和周围环境产生的振动。

# 没有标注文件，不使用





5. Michigan_four:最终划分为了==四类==数据   ==采样率：44100==

在该数据集中，主要是按照图示将心音异常类进行了划分，并将所有正常类归为一类。

前两个主要为二尖瓣疾病(心间区听诊)，接着是主动脉，其次是肺动脉

<img src="../../../AppData/Roaming/Typora/typora-user-images/image-20221126134332018.png" alt="image-20221126134332018" style="zoom: 50%;" />



[数据集链接](https://www.med.umich.edu/lrc/psb_open/html/repo/primer_heartsound/primer_heartsound.html)

https://deepblue.lib.umich.edu/handle/2027.42/120554

# 最终处理方式

```
这个数据集是MP3文件，我们需要先进行读取操作，并转换为wav文件，采样率为44100
接着和上一个数据库处理方式一样，截取1s的
结果为：a =(1476, 2001)

4
```



6. Fetal_2021:西拉大学母体心音与胎儿心音数据库，健康孕期女性胎儿的心音与母体心音数据

==采样率不一致==

==摘要：==西拉子大学（SU）胎儿心音数据库（SUFHSDB）包含109名单胎和双胎孕妇的胎儿和母体心声图（PCG）录音。这些录音是在伊朗设拉子设拉子医科大学哈菲兹医院进行的，年龄在16至47岁之间的母亲，将数字听诊器放在产妇下腹部。总共有99名受试者记录了一个信号，3名受试者记录了2个信号，7个双胞胎病例分别记录了119个记录。每条记录的平均持续时间约为 90 秒。采样率通常为 16，000 Hz，采用 16 位量化，少数记录为 44，100 Hz。数据以数字听诊器的宽带模式记录，频率响应为20 Hz至1 kHz。
==数据描述：==总共有99名受试者记录了一个信号，3名受试者记录了2个信号，7个双胞胎病例被单独记录，总共记录了119个。每条记录的平均持续时间约为 90 秒。采样率通常为 16，000 Hz，采用 16 位量化，少数记录为 44，100 Hz。数据以数字听诊器的宽带模式记录，频率响应为20 Hz至1 kHz。

在大多数情况下（91名受试者），在每次胎儿PCG记录之前也记录了母亲的心音。因此，数据集中还提供了总共 92 个母体心音数据（90 名受试者有一个心音信号，一个受试者记录了两个信号，总共有 92 个文件）。

记录名称在前身代表胎儿记录，代表母体记录，并且是主题编号。数据采用标准音频 WAV （） 格式，并提供 WFDB 标头 （） 以 WFDB 格式读取数据描述。还提供了Excel电子表格（），其中包含：母亲的妊娠/活胎/流产次数，母亲BMI，怀孕期限（周），胎儿的性别，母亲的年龄，临床病史（如果有），10秒窗口内的平均CTG心率（如果可用）。
==数据使用：==预计不使用母亲信号，仅使用胎儿信号，同时进行异常类和正常类的划分。

[数据集链接](https://www.physionet.org/content/sufhsdb/1.0.1/)

# 数据处理：

* ==**不使用这个系列的信号，因为没有标注**==
* 使用胎儿信号也经过了筛选，对于双保胎心音只有一个有问题的，我们只保留有问题的，没问题的我们就直接删除了，例如第17个信号，我们删除了17-2。
* 胎儿异常心音_滤波
* <img src="F:/pytorch_data/hs_data/Fetal_2021/样例图片/胎儿异常心音_滤波.png" style="zoom: 25%;" />
* 胎儿正常心音_滤波
* <img src="F:/pytorch_data/hs_data/Fetal_2021/样例图片/胎儿正常心音_滤波.png" alt="胎儿正常心音_滤波" style="zoom:25%;" />
* 
